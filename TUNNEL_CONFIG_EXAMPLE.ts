/**\n * EXAMPLE: Using TunnelConfigResource for PATCH-based tunnel configuration\n * \n * This example demonstrates how to use the custom TunnelConfigResource component\n * instead of the standard cf.ZeroTrustTunnelCloudflaredConfig resource.\n * \n * The key difference:\n * - cf.ZeroTrustTunnelCloudflaredConfig uses PUT (replaces entire config)\n * - TunnelConfigResource uses PATCH (partial updates)\n */\n\nimport * as pulumi from '@pulumi/pulumi';\nimport * as cf from '@pulumi/cloudflare';\nimport { TunnelConfigResource } from './zeroTrust';\n\n// Example 1: Create a tunnel and configure it with PATCH\nconst tunnel = new cf.ZeroTrustTunnelCloudflared('my-tunnel', {\n    accountId: 'YOUR_ACCOUNT_ID',\n    name: 'my-tunnel',\n    configSrc: 'cloudflare',\n    tunnelSecret: 'YOUR_BASE64_ENCODED_SECRET',\n});\n\n// Use PATCH to update tunnel configuration without replacing entire config\nconst tunnelConfig = new TunnelConfigResource('my-tunnel-config', {\n    accountId: 'YOUR_ACCOUNT_ID',\n    tunnelId: tunnel.id,\n    config: {\n        ingresses: [\n            {\n                hostname: 'api.example.com',\n                service: 'https://localhost:8080',\n                path: '/',\n                originRequest: {\n                    httpHostHeader: 'api.example.com'\n                }\n            },\n            {\n                hostname: 'app.example.com',\n                service: 'http://localhost:3000',\n                path: '/'\n            },\n            {\n                service: 'http_status:404'\n            }\n        ]\n    }\n}, {\n    dependsOn: tunnel,\n    parent: tunnel.parent\n});\n\n// Example 2: Update an existing tunnel configuration with additional routes\n// Simply create a new TunnelConfigResource with updated config - it will PATCH\nconst updatedTunnelConfig = new TunnelConfigResource('my-tunnel-config-updated', {\n    accountId: 'YOUR_ACCOUNT_ID',\n    tunnelId: tunnel.id,\n    config: {\n        ingresses: [\n            {\n                hostname: 'api.example.com',\n                service: 'https://localhost:8080',\n                path: '/',\n                originRequest: {\n                    httpHostHeader: 'api.example.com'\n                }\n            },\n            {\n                hostname: 'app.example.com',\n                service: 'http://localhost:3000',\n                path: '/'\n            },\n            {\n                hostname: 'admin.example.com',\n                service: 'http://localhost:9000',\n                path: '/',\n                originRequest: {\n                    httpHostHeader: 'admin.internal'\n                }\n            },\n            {\n                service: 'http_status:404'\n            }\n        ]\n    }\n}, {\n    dependsOn: tunnel,\n    parent: tunnel.parent\n});\n\n// Example 3: Using in CloudflareZeroTrustAccount\nimport { CloudflareZeroTrustAccount } from './CloudflareZeroTrustAccount';\n\nconst account = new CloudflareZeroTrustAccount('my-account', {\n    organization: { name: 'myorg' },\n    enableAzIdentity: true,\n    tunnels: [\n        {\n            name: 'api-tunnel',\n            configSrc: 'cloudflare', // Use cloudflare config source\n            applications: [\n                {\n                    name: 'Backend API',\n                    privateIpAddresses: [{\n                        cidr: '10.0.0.0/24',\n                        port: 8080,\n                        protocol: 'tcp'\n                    }]\n                }\n            ]\n        }\n    ]\n});\n\n// Then apply custom config with PATCH\nconst apiTunnelConfig = new TunnelConfigResource('api-tunnel-config', {\n    accountId: account.organization!.accountId,\n    tunnelId: account.tunnels!['api-tunnel'].id,\n    config: {\n        ingresses: [\n            {\n                service: 'http://10.0.0.1:8080',\n                path: '/'\n            },\n            {\n                service: 'http_status:404'\n            }\n        ]\n    }\n}, {\n    dependsOn: account.tunnels!['api-tunnel']\n});\n\nexport const configId = tunnelConfig;\nexport const apiConfigId = apiTunnelConfig;\n